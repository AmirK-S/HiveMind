---
phase: 04-dashboard-distribution
plan: 08
type: execute
wave: 1
depends_on: []
files_modified: [scripts/demo.tape, README.md]
autonomous: false
gap_closure: true
requirements: [DASH-01, DASH-02, DASH-03, DASH-04, DASH-05, DASH-06, DIST-01, DIST-02, DIST-03, DIST-05, DIST-09]

must_haves:
  truths:
    - "A demo GIF exists at scripts/demo.gif showing two agents sharing knowledge via MCP"
    - "The demo GIF is recorded from an actual MCP client session (Claude Desktop or Cursor), not curl REST calls"
    - "README.md references a demo.gif that actually exists on disk"
  artifacts:
    - path: "scripts/demo.gif"
      provides: "30-second demo GIF of two agents sharing knowledge"
    - path: "README.md"
      provides: "References demo.gif in the demo section"
      contains: "demo.gif"
  key_links:
    - from: "README.md"
      to: "scripts/demo.gif"
      via: "Markdown image reference"
      pattern: "scripts/demo\\.gif"
---

<objective>
Close Gap 2 from verification: Generate or record a demo GIF showing two agents sharing knowledge via MCP in a real client (Claude Desktop or Cursor).

Purpose: Success Criterion 5 requires "a 30-second demo GIF in the README shows two agents sharing knowledge via MCP in a real client." Currently scripts/demo.gif does not exist on disk (VHS tape was never run), and the tape uses curl REST calls instead of an actual MCP client as required by the criterion.
Output: A working demo.gif file that README.md correctly references.
</objective>

<execution_context>
@/Users/amirkellousidhoum/.claude/get-shit-done/workflows/execute-plan.md
@/Users/amirkellousidhoum/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-dashboard-distribution/04-06-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update VHS demo tape as fallback and add recording instructions to README</name>
  <files>scripts/demo.tape, README.md</files>
  <action>
    The VHS tape at scripts/demo.tape currently uses curl REST calls. While the ideal demo is a screen recording from Claude Desktop or Cursor, we need to:

    1. **Keep the existing VHS tape as a fallback** for environments without a GUI MCP client. Add a comment at the top of demo.tape:
       ```
       # Fallback demo using REST API (REST/MCP parity from Phase 3).
       # Preferred: Record a Claude Desktop or Cursor session — see README.
       ```

    2. **Add recording instructions to README.md** right after the demo.gif image reference (around line 9-11). Insert a section explaining how to record the real demo:

       In the README, find the demo image reference `![HiveMind Demo](scripts/demo.gif)` and below it add:

       ```markdown
       > **Recording the demo:** For the best demo, record a Claude Desktop or Cursor session showing:
       > 1. Agent 1 calls `add_knowledge` to contribute a workaround
       > 2. Agent 2 calls `search_knowledge` and finds it
       > 3. Agent 2 calls `report_outcome` with "solved"
       >
       > Save as `scripts/demo.gif`. Fallback: `vhs scripts/demo.tape` (requires VHS + ffmpeg + ttyd).
       ```

    This ensures README documents both the preferred approach (real MCP client recording) and the fallback (VHS tape).
  </action>
  <verify>
    Run: `head -3 scripts/demo.tape` — should show the fallback comment.
    Run: `grep -A5 "Recording the demo" README.md` — should show recording instructions.
  </verify>
  <done>VHS tape has fallback comment. README documents both preferred (Claude Desktop/Cursor recording) and fallback (VHS tape) approaches for generating demo.gif.</done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Record or generate the demo GIF</name>
  <files>scripts/demo.gif</files>
  <action>
README has recording instructions. VHS tape exists as a fallback. But scripts/demo.gif does not exist yet — it must be created by the user.

**Option A — Preferred (real MCP client recording):**

1. Start the HiveMind server: `docker compose up -d` or `uvicorn hivemind.server.main:app`
2. Open Claude Desktop or Cursor with HiveMind MCP server configured
3. Start a screen recording (macOS: Cmd+Shift+5, or use a GIF recorder like Gifox/LICEcap)
4. In the first chat session (Agent 1):
   - Ask Claude to contribute knowledge: "Share that FastAPI middleware must be added before routes using app.add_middleware()"
   - Claude calls `add_knowledge` — show the tool call and response
5. Approve the contribution (via dashboard at localhost:3000 or CLI)
6. In a second chat session (Agent 2):
   - Ask Claude to search: "How should I configure FastAPI middleware?"
   - Claude calls `search_knowledge` — show it finding Agent 1's knowledge
   - Claude calls `report_outcome` with "solved"
7. Stop recording, trim to ~30 seconds, save as `scripts/demo.gif`

**Option B — Fallback (VHS tape):**

1. Install VHS: `brew install charmbracelet/tap/vhs`
2. Ensure ffmpeg and ttyd are installed
3. Start the HiveMind server
4. Set environment variables: `export API_KEY=your-key API_KEY_2=your-key-2`
5. Run: `vhs scripts/demo.tape`
6. Verify: `ls -la scripts/demo.gif` — file should exist and be >100KB
  </action>
  <verify>
`ls -la scripts/demo.gif` — file exists and is >100KB. `file scripts/demo.gif` — identified as GIF image. Open README.md in a Markdown previewer — demo GIF renders.
  </verify>
  <done>scripts/demo.gif exists on disk as an actual GIF file showing the contribute-search-feedback loop. README image reference resolves to the actual file.</done>
</task>

</tasks>

<verification>
1. `ls scripts/demo.gif` — file exists
2. `file scripts/demo.gif` — identified as GIF image
3. README.md references `scripts/demo.gif` (already confirmed)
4. Demo shows the contribute-search-feedback loop
</verification>

<success_criteria>
- scripts/demo.gif exists on disk as an actual GIF file
- Demo shows two agents sharing knowledge (contribute, search, feedback)
- README.md image reference resolves to the actual file
- Recording is approximately 30 seconds
</success_criteria>

<output>
After completion, create `.planning/phases/04-dashboard-distribution/04-08-SUMMARY.md`
</output>

# Fallback demo using REST API (REST/MCP parity from Phase 3).
# Preferred: Record a Claude Desktop or Cursor session â€” see README.
Output scripts/demo.gif
Set FontSize 14
Set Width 1200
Set Height 600
Set Theme "Catppuccin Mocha"

# Title
Type "# HiveMind: Agents Share Knowledge in Real Time"
Enter
Sleep 1s

# Agent 1 contributes knowledge
Type "# Agent 1 discovered a useful workaround and shares it"
Enter
Sleep 500ms
Type@50ms 'curl -s -X POST http://localhost:8000/api/v1/knowledge \'
Enter
Type@50ms '  -H "X-API-Key: $API_KEY" \'
Enter
Type@50ms '  -H "Content-Type: application/json" \'
Enter
Type@50ms '  -d ''{"title": "FastAPI middleware fix", "content": "Use app.add_middleware() before routes", "category": "python"}'' | jq .'
Enter
Sleep 2s

# Show result
Type "# Knowledge is now in the commons"
Enter
Sleep 1s

# Agent 2 searches and finds it
Type "# Agent 2 searches for help with the same problem"
Enter
Sleep 500ms
Type@50ms 'curl -s "http://localhost:8000/api/v1/knowledge/search?query=FastAPI+middleware" \'
Enter
Type@50ms '  -H "X-API-Key: $API_KEY_2" | jq .results[0].title'
Enter
Sleep 2s

# Result
Type "# Agent 2 found Agent 1's knowledge instantly!"
Enter
Sleep 1s

# Agent 2 reports it was helpful
Type "# Agent 2 reports the knowledge was helpful"
Enter
Sleep 500ms
Type@50ms 'curl -s -X POST http://localhost:8000/api/v1/outcomes \'
Enter
Type@50ms '  -H "X-API-Key: $API_KEY_2" \'
Enter
Type@50ms '  -H "Content-Type: application/json" \'
Enter
Type@50ms '  -d ''{"item_id": "...", "outcome": "solved"}'' | jq .'
Enter
Sleep 2s

Type "# The commons gets smarter with every interaction"
Enter
Sleep 2s
